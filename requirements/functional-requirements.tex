\documentclass[11pt]{article}

\usepackage[dvipsnames]{xcolor}
\usepackage{hyperref}
\usepackage{todonotes}
\usepackage{listings}
\usepackage{soul}

\title {{Functional requirements}}
\author {Lucie-Aim\'{e}e Kaffee}
\date{}

\begin {document}

\listoftodos

\section {Functional requirements}
The functional requirements are based on the non-functional requirements and aim to implement those.
There are also requirements, that are based on the circumstances and the techniques used. \\
To be able to use the data of Wikidata, ArticlePlaceholder needs to base on Wikibase and mediawiki.
As mediawiki is implemented in PHP, the main part of the extension needs to make use of the language as well as the services provided by mediawiki and Wikibase. \\
The language for scripts on the Wikipedia is Lua. Therefore the parts that will be user-editable need to be written in Lua so they can be overwritten by the local communities. \\
The default for the content pages should present the information and data in a useful way and make use of the images in Wikimedia Commons, that are connected to the item displayed.\\
The content pages generated by the extension will need to work on mobile. \\
\\
As described before, the requirements would differ from the different stages in the deployment cycle. They are always built on top of each other but since the parts have different importance we would focus on a very basic set up first and add up more features from there. Here are the requirements described as they would be in the final system deployed to a Wikipedia. \\

\subsection{Naming}
The special page should have a short name that is easy to remember. Calling the special page "Article Placeholder" would be confusing due to people expecting it to generate a whole article in that case. Therefore it is called "AboutTopic".

\subsection{Display the article placeholder}
For the display of the items, it is necessary to focus on a clear differentiation between the layout of the placeholder and what a user-written article would look like but still keep elements of the well-known Wikipedia layout. \\
Therefore, the main image of the item is on the right side of the page where they are in articles, too.\\
The main part of the page are the statement groups. Those consist of a property, one or multiple values, their qualifier and references. \\
The statement groups are each in a box with a black border and arranged in a tile layout. Depending on the width of the screen, the amount of statement boxes per row differs. \\
The label of the property is the header for each group separated from the rest by a horizontal line. Multiple values for the same statement are also separated by a line. Their qualifiers are right under the corresponding value and in a smaller font. \\
To correspond with the existing layout of Wikipedia, the references are in an own section on the bottom of the page. \\
The identifiers of an item should be in a distinct place to emphasize them and at the same time distant them from the other statements. They are listed in underneath the main image of the article to the right of the statement groups. \\
The described layout should be the default but it is very important to give the user control over everything and therefore let every part be user editable. The renderer are in Lua and every part has getter and setter to overwrite them and adjust the design to the need of the communities. \\

\subsection{Localisation}
It is important to have the whole extension localised from the beginning. Not only would it be hard to adjust it in the end but mainly this is the most important part about it- the extension being used by many international communities. Since the data itself is translated in Wikidata, this focuses more on aspects like labels on buttons and the name of the special page itself. \\

\subsection{Discover article placeholder}
\subsubsection{SpecialPage URL}
\st{The first step here} is to be able to get to the article placeholder not only over the interface of the special page but also via a handy URL, that gets the item number as a parameter. Basing on the defaults of mediawiki and Wikibase, it would look like this: \colorbox{Gray}{\lstinline[basicstyle=\ttfamily\color{white}]|Special:AboutTopic/Q5279|} \\
\subsubsection{Search}
A user should be able to find article placeholder while looking for a certain topic. Therefore, it should be integrated in the search on the Wikipedia they are looking at. It can only be attached on the bottom of the results or placed to the right of the regular search results. \\
The results in the search should be limited to notable items. Since it is hard to decide, which content is actually notable and not the same notability criteria as in Wikidata apply, the items appearing in the search should be limited to only the ones having at least two to three statements and either two sitelinks to the same project (like Wikipedia or Wikivoyage) or two to three statements over all. \\
\\
The same criteria should apply when linking from a value in the statement groups to another placeholder. Every item, that has sitelinks to the Wikipedia, the placeholder is on, should link to the corresponding article. \\
\\
A lot of users will search for content of Wikipedia on search engines like google. It will be necessary to index the article placeholder on those. This is outside the scope of the thesis but will be an important point when thinking about the caching of the pages. 
\subsubsection{Red links}
\begin{quotation}
A red link (...) signifies a link to a page that is either non-existent or deleted. 
\end{quotation} \cite{wiki:01} \todo[color=red!40]{ Connect to bib file (wiki:01) }%
\\
These red links much used in the Wikipedia to indicate an article, which isn't there and leads the user to a "create article" page should rather bring them to an article placeholder, which offers them to create an article. Due to the high technical complexity of matching the titles of the red links to the Wikidata items, this topic is out of the scope for the thesis but will be an important part of the future development of the Article Placeholder extension.

\subsection{Creation of an article from the article placehoder}
From the content page with the data the user might want to create an article for the existing item. Since the title for the page might differ from the label of the item due to the local Wikipedia's standards the user must be able to enter a title for the page that doesn't exist on that Wikipedia yet. \\
The challenge is to encourage editors, to add a new article if appropriate and at the same time to not encourage vandalism by creating empty articles or stubs.\\
Using the existing JavaScript modules as provided by MediaWiki, there is a button on the bottom of the page asking for the creation of the article. A popup on the page opens and asks the user for a title for the new page. The default is the label of the item, which can be adjusted or a completely new title can be entered. \\
There should be an option for users with disabled JavaScript. But since the amount of users with JavaScript disabled is about 3\% \todo[color=red!40]{ Connect to bib file (wiki:02) }%, 
the priority is rather low. \\

\subsection{Sorting of statement groups}
The data in Wikidata is not sorted. The article placeholder are aimed at readers, who want to get an overview over the data and therefore only need the most important data on a topic and shouldn't be overwhelmed with everything available. 
\\
To keep the control at the editors, there should be a list of properties maintained on-wiki. They are ordered by their importance and read by the renderers for the statement groups. \\
Not only should the statements on a placeholder sorted but also limited to a decent number.

\subsection {Identifier}
Since the layout treats the identifier differently they shouldn't be in the list of ordered statements either. There isn't a datatyp for identifier in Wikidata yet but it is planned to introduce one. \\
Until the datatyp is deployed it is sufficient to have a static list of property ids in the extension, that lists all identifier used in Wikidata, that can be exchanged later on with the proper handling of all statements with the identifier datatyp.
\subsection{Caching}



\subsection {Unit tests}



\begin{itemize}
\item A default display of the data -- 
\item Show main image of the item separated from the statement list -- 
\item Localisation of the whole extension -- 
\item Show the article connected to the item, if an article on the wiki exists
\item Get to the ArticlePlaceholder via the SpecialPage URL --
\item Get to the Article Placeholders via search
\item A possibility to create an article from scratch from an Article Placeholder by giving the user the possibility to enter a title

\item Create an Article from the ArticlePlaceholder
\end{itemize} 

\newpage
\bibliography{./references} 
\bibliographystyle{ieeetr}

\end {document}